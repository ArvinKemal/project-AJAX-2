<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Project AJAX 2</title>
</head>

<body>
    <div class="container">
        <h1>Get Pikachu!</h1>
        <button onclick="get()">Get!</button>
        <div id="root">
        </div>
    </div>

    <script>
        const root = document.getElementById('root')

        const get = async () => {


            const response = await fetch("https://pokeapi.co/api/v2/pokemon?limit=30", {
                method: "GET"
            });
            const json = await response.json()
            const results = json.results

            let data = ''

            for (let i = 0; i < results.length; i++) {
                const responseCard = await fetch(`${results[i].url}`, {
                    method: "GET"
                });

                const jsonCard = await responseCard.json()

                const id = jsonCard.id
                const name = jsonCard.name
                const img = jsonCard.sprites.front_default
                const type = jsonCard.types[0].type.name

                if (type === "grass") {
                    data = data +
                        `<div class="card" style="background-color: green;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else if (type === "fire") {
                    data = data +
                        `<div class="card" style="background-color: red;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else if (type === "normal") {
                    data = data +
                        `<div class="card" style="background-color: grey;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else if (type === "water") {
                    data = data +
                        `<div class="card" style="background-color: blue;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else if (type === "bug") {
                    data = data +
                        `<div class="card" style="background-color: orange;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else if (type === "electric") {
                    data = data +
                        `<div class="card" style="background-color: yellow;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else if (type === "poison") {
                    data = data +
                        `<div class="card" style="background-color: purple;">
                        <h3>${id}: ${name}</h3>   
                        <img src="${img}" alt="" >       
                        <p>type: ${type}</p>
                        </div>`
                }
                else {
                    data = data +
                        `<div class="card" style="background-color: brown;">
                            <h3>${id}: ${name}</h3>   
                            <img src="${img}" alt="" >       
                            <p>type: ${type}</p>
                            </div>`
                }


            }


            root.innerHTML = data
        }


    </script>
</body>

</html>